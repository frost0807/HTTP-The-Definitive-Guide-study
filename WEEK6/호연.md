# Chapter 16 - 국제화

## 국제적인 콘텐츠를 다루기 위해 필요한 http 지원
- Content-Type의 charset : 서버가 클라이언트에게 컨텐츠의 문자 포맷을 알려줌.
- Content-Language : 서버가 클라이언트에게 언어를 알려줌.
- Accept-Charset : 클라이언트가 서버에게 허용하는 문자포맷을 알려줌.
- Accept-Language : 클라이언트가 서버에게 허용하는 언어를 알려줌.
- 서브 태그 : 하이픈으로 분리하여 하나 이상으로 구성할 수 있다.

## 문자집합과 http
- charset : 엔티티 콘텐츠 비트들을 특정 문자 체계의 글자들로 바꾸는지 말해준다.
- 잘못된 charset이 전달되면 잘못된 문자가 출력된다. (한글이 궭뷁으로 나오는 것과 같다.)
- MIME charset : HTTP는 표준화된 charset을 위 헤더에서 제공한다.
- Content-Type Charset과 META 헤더 포맷의 차이는 무엇일까?
  - http로 전달할 수 있지만, META 태그로도 지정할 수 있다. 무슨 차이가 있을까?
  - 우선순위는 헤더가 먼저이다. 헤더에 없다면 콘텐츠 안에서 찾아서 정하고 그래도 없다면 브라우저 기준으로 정한다.

## 국제화된 URI
- 일부 문자는 모양은 비슷한데 서로 전혀 다른 의미를 가진 경우가 있음.
  - 알파벳에서 파생된 문자들.
- 잚못된 URI를 통해서 사용자가 악의적인 사이트 접속할 수도 있다.
- URI는 제한된 범위 안에서 사용하는 것이 안전하다. (비슷한 문자들을 줄일 수 있다.)
- 특정 문자들은 US-ASCII 범위 안에서 이스케이핑 처리되어 전달된다.
  - search=% 이런 이스케이핑 처리된 이유가 위 사유 때문.

# Chapter 17 - 내용 협상과 트랜스코딩

## 내용 협상 기법
- 서버가 클라이언트에게 전달해줄 가장 적절한 것은 무엇인가?
  - 사용자마다 국가가 다를 수 있다.
  - 사용자마다 사용하는 기기가 다를 수 있다.
  - 특정 URL은 누군가에게 부적절할 수 있다.
- 클라이언트 주도
  - 클라이언트가 요청을 보내면, 서버는 클라이언트에게 선택지를 보내주고, 클라이언트가 선택
    - 서버 입장에서 구현하기 쉽다.
    - 대기 시간이 증가함. 골라서 선택하기 때문에 최소 2번의 전송이 필요
- 서버 주도 협상
  - 서버가 클라이언트의 요청 헤더를 검증해서 어떤 버전을 제공할지 결정한다.
    - 클라이언트 주도 협상보다 빠르다.
    - 헤더에 맞는 것이 없다면 서버는 추측을 해야 한다.
- 투명 협상
  - 투명한 중간 장치(프록시)가 서버 대신 협상을 한다.
    - 웹 서버가 처리할 필요가 없기 때문에 빠르다.
    - 어떻게 하는지에 대한 스펙 정의가 없다.

# 질문 리스트

1. 글로벌 서비스를 제공하기 위해서 백엔드에서는 어떤 점을 고려해야 하는가?